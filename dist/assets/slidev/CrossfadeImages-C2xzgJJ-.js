import{d as b,N as V,_ as M,b as $,o as p,F as k,C as T,h as o,e as D,$ as y,a0 as E,D as L,a1 as F,z as S,f as v,i as G,M as w,w as j,g as q,n as K}from"../modules/vue-BYAEyLR5.js";import{r as O,v as R,w as U,C as X}from"../index-BdTx6In9.js";import{u as z}from"./context-B9LE-9jG.js";const H=b({__name:"VClickGap",props:{size:{type:[String,Number],default:1}},setup(r){const a=r,{$clicksContext:n}=z(),t=O();let i=+a.size;return Number.isNaN(i)&&(console.warn(`[slidev] Invalid size for VClickGap: ${a.size}`),i=1),V(()=>{const f=n.currentOffset+i-1;n.register(t,{max:f,delta:i})}),M(()=>{n.unregister(t)}),(f,c)=>(p(),$(k))}}),B=["ul","ol"],J=b({props:{depth:{type:[Number,String],default:1},every:{type:[Number,String],default:1},at:{type:[Number,String],default:"+1"},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},handleSpecialElements:{type:Boolean,default:!0}},render(){var x,C;const r=+this.every,a=R(this.at),n=typeof a=="string";let t=(C=(x=this.$slots).default)==null?void 0:C.call(x);if(a==null||!t)return t;const i=T("click"),f=(l,e)=>L(l,[[i,e,"",{hide:this.hide,fade:this.fade}]]),c=l=>l.flatMap(e=>y(e)&&typeof e.type=="symbol"&&Array.isArray(e.children)?c(e.children):[e]);t=c(U(t));const g=(l,e=1)=>c(l).map(s=>{if(!y(s))return s;if(B.includes(s.type)&&Array.isArray(s.children)){const m=h(s.children,e+1);return o(s,{},m)}return o(s)});let u=1,d=0;const h=(l,e=1)=>c(l).map(s=>{if(!y(s)||s.type===E)return s;const m=+a+Math.ceil(u++/r)-1;let N;e<+this.depth&&Array.isArray(s.children)?N=o(s,{},g(s.children,e)):N=o(s);const A=m-d;return d=m,f(N,n?A>=0?`+${A}`:`${A}`:m)}),_=()=>D(H,{size:+a+Math.ceil((u-1)/r)-1-d});if(this.handleSpecialElements){if(t.length===1&&B.includes(t[0].type)&&Array.isArray(t[0].children))return o(t[0],{},[...h(t[0].children),_()]);if(t.length===1&&t[0].type==="table"){const l=t[0];if(Array.isArray(l.children))return o(l,{},l.children.map(e=>y(e)?e.type==="tbody"&&Array.isArray(e.children)?o(e,{},[...h(e.children),_()]):o(e):e))}}return[...h(t),_()]}}),P=b({props:{at:{type:[Number,String],default:"+1"},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},wrapText:{type:Function,default:r=>o("span",r)}},render(){return o(J,{every:X,at:this.at,hide:this.hide,fade:this.fade,handleSpecialElements:!1},{default:()=>{var r,a;return(a=(r=this.$slots).default)==null?void 0:a.call(r).map(n=>n.type===F?this.wrapText(n):n)}})}}),Q={class:"relative w-full h-full"},W=["src"],te={__name:"CrossfadeImages",props:{images:{type:Array,required:!0}},setup(r){const{$slidev:a}=z(),n=r,t=S(()=>a.nav.clicks),i=S(()=>Math.min(t.value,n.images.length-1));return(f,c)=>{const g=P;return p(),v("div",Q,[G(" Add one less click increment to match the number of transitions "),(p(!0),v(k,null,w(r.images.slice(1),(u,d)=>(p(),$(g,{key:d},{default:j(()=>c[0]||(c[0]=[q("div",null,null,-1)])),_:2,__:[0]},1024))),128)),(p(!0),v(k,null,w(r.images,(u,d)=>(p(),v("img",{key:u,src:u,class:K(["absolute inset-0 m-auto max-w-full max-h-full object-contain transition-opacity duration-1",i.value===d?"opacity-100":"opacity-0"])},null,10,W))),128))])}}};export{te as _};
